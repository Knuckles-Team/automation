---
version: '3.9'

services:

    docker-registry:
        container_name: docker-registry
        image: registry:2
        ports:
            - "5000:5000"
        restart: unless-stopped
        environment:
          VIRTUAL_HOST: registry.arpa
          VIRTUAL_PORT: 5000
        volumes:
            - ./volume:/var/lib/registry

    docker-registry-ui:
        container_name: docker-registry-ui
        image: konradkleine/docker-registry-frontend:v2
        links:
            - docker-registry:docker-registry
        ports:
            - "8080:80"
        restart: unless-stopped
        environment:
            ENV_DOCKER_REGISTRY_HOST: docker-registry
            ENV_DOCKER_REGISTRY_PORT: 5000
            VIRTUAL_HOST: docker-registry.arpa
            VIRTUAL_PORT: 8080
